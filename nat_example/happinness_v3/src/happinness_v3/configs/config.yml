general:                                             
  telemetry:                                          
    tracing:                                          
      phoenix:                                        
        _type: phoenix                               
        endpoint: http://localhost:6006/v1/traces 
        project: happinness_report
      weave:
        _type: weave
        project: "nat-simple"

functions:
  country_stats:
    _type: happinness_v3/country_stats
  year_stats:
    _type: happinness_v3/year_stats
  calculator_agent:
    _type: happinness_v3/calculator_agent

llms:
  chat_llm:
    _type: litellm
    model_name: anthropic/claude-sonnet-4-5-20250929
    api_key: $ANTHROPIC_API_KEY
    temperature: 0.7

  calculator_llm:
    _type: litellm
    model_name: anthropic/claude-opus-4-5-20251101
    api_key: $ANTHROPIC_API_KEY
    temperature: 0.7

  eval_llm:
    _type: litellm
    model_name: anthropic/claude-sonnet-4-5-20250929
    api_key: $ANTHROPIC_API_KEY
    temperature: 0.7

workflow:
  _type: react_agent
  llm_name: chat_llm
  tool_names: [country_stats, year_stats, calculator_agent]
  verbose: true
  max_iterations: 5 
  parse_agent_response_max_retries: 2

# Evaluation configuration
eval:
  general:
    workflow_alias: "nat-simple-sonnet-4-5"
    output:
      dir: ./.tmp/nat/happinness_v3/eval/evals/
      cleanup: false  
    dataset:
      _type: json
      file_path: src/happinness_v3/data/evals.json

  evaluators:
    answer_accuracy:
      _type: ragas
      metric: AnswerAccuracy
      llm_name: eval_llm
    groundedness:
      _type: ragas
      metric: ResponseGroundedness
      llm_name: eval_llm
    trajectory_accuracy:
      _type: trajectory
      llm_name: eval_llm